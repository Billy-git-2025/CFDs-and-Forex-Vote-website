<?php
$currentPage = 'compare.html';
$pageTitle = 'Compare Brokers | CFDs and Forex Vote';
$metaDescription = 'Compare trading brokers side by side. Find the best broker for your trading needs with detailed comparisons.';
include 'includes/header.php';
?>

<div class="compare-container">
    <h1>Compare Brokers</h1>
    <p>Use our comparison tool to find the best broker for your trading needs.</p>
    
    <div class="search-box">
        <input type="text" placeholder="Search brokers..." id="brokerSearch">
        <select class="sort-select" id="sortSelect">
            <option value="name">Sort by Name</option>
            <option value="rating">Sort by Rating</option>
            <option value="spreads">Sort by Spreads</option>
            <option value="leverage">Sort by Leverage</option>
        </select>
    </div>
    
    <div class="broker-table">
        <div class="table-container">
            <div class="table-scroll">
                <table id="brokerTable">
                    <thead>
                        <tr>
                            <th>Broker</th>
                            <th>Rating</th>
                            <th>Spreads</th>
                            <th>Leverage</th>
                            <th>Min. Deposit</th>
                            <th>Regulation</th>
                            <th>Platforms</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Broker data will be populated here -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    
    <div class="top-brokers-section">
        <div class="container">
            <h2>Top Brokers</h2>
            <div class="broker-cards">
                <!-- Top broker cards will be populated here -->
            </div>
        </div>
    </div>
    
    <div class="seo-content">
        <div class="content-container">
            <h2>How to Choose the Right Broker</h2>
            <p>Choosing the right broker is crucial for your trading success. Here are some key factors to consider:</p>
            
            <h3>Regulation and Security</h3>
            <p>Always choose a regulated broker to ensure your funds are safe and the broker operates under strict guidelines.</p>
            
            <h3>Trading Costs</h3>
            <p>Compare spreads, commissions, and other fees to find the most cost-effective option for your trading style.</p>
            
            <h3>Trading Platforms</h3>
            <p>Ensure the broker offers a platform that suits your needs and is compatible with your devices.</p>
            
            <h3>Customer Support</h3>
            <p>Good customer support is essential for resolving issues quickly and efficiently.</p>
        </div>
    </div>
</div>

<script>
    // Broker data
    const brokers = [
        {
            name: "Broker A",
            rating: 4.5,
            spreads: "0.1 pips",
            leverage: "1:500",
            minDeposit: "$100",
            regulation: "FCA, CySEC",
            platforms: "MT4, MT5, Web",
            link: "#"
        },
        // Add more brokers here
    ];
    
    // Initialize the table
    function initializeTable() {
        const tableBody = document.querySelector('#brokerTable tbody');
        tableBody.innerHTML = '';
        
        brokers.forEach(broker => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${broker.name}</td>
                <td>${broker.rating}</td>
                <td>${broker.spreads}</td>
                <td>${broker.leverage}</td>
                <td>${broker.minDeposit}</td>
                <td>${broker.regulation}</td>
                <td>${broker.platforms}</td>
                <td><a href="${broker.link}" class="filter-highlight">Visit Broker</a></td>
            `;
            tableBody.appendChild(row);
        });
    }
    
    // Search functionality
    document.getElementById('brokerSearch').addEventListener('input', function(e) {
        const searchTerm = e.target.value.toLowerCase();
        const rows = document.querySelectorAll('#brokerTable tbody tr');
        
        rows.forEach(row => {
            const text = row.textContent.toLowerCase();
            row.style.display = text.includes(searchTerm) ? '' : 'none';
        });
    });
    
    // Sort functionality
    document.getElementById('sortSelect').addEventListener('change', function(e) {
        const sortBy = e.target.value;
        const rows = Array.from(document.querySelectorAll('#brokerTable tbody tr'));
        
        rows.sort((a, b) => {
            const aValue = a.cells[getColumnIndex(sortBy)].textContent;
            const bValue = b.cells[getColumnIndex(sortBy)].textContent;
            
            if (sortBy === 'rating') {
                return parseFloat(bValue) - parseFloat(aValue);
            }
            return aValue.localeCompare(bValue);
        });
        
        const tableBody = document.querySelector('#brokerTable tbody');
        rows.forEach(row => tableBody.appendChild(row));
    });
    
    function getColumnIndex(sortBy) {
        const columns = ['name', 'rating', 'spreads', 'leverage', 'minDeposit', 'regulation', 'platforms', 'action'];
        return columns.indexOf(sortBy);
    }
    
    // Initialize the table on page load
    document.addEventListener('DOMContentLoaded', initializeTable);
</script>

<?php include 'includes/footer.php'; ?> 